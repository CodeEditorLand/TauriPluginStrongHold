var t=function(){return(t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function n(t){window.__TAURI_INVOKE_HANDLER__(t)}function o(t,n){void 0===n&&(n=!1);var o=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e();return Object.defineProperty(window,o,{value:function(e){return n&&Reflect.deleteProperty(window,o),null==t?void 0:t(e)},writable:!1,configurable:!0}),o}function r(e){return function(t,e,n,o){return new(n||(n=Promise))((function(r,a){function u(t){try{c(o.next(t))}catch(t){a(t)}}function i(t){try{c(o.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,i)}c((o=o.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){return function(t,e){var n,o,r,a,u={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,o=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((r=(r=u.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){u.label=a[1];break}if(6===a[0]&&u.label<r[1]){u.label=r[1],r=a;break}if(r&&u.label<r[2]){u.label=r[2],u.ops.push(a);break}r[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(r,a){var u=o((function(t){r(t),Reflect.deleteProperty(window,i)}),!0),i=o((function(t){a(t),Reflect.deleteProperty(window,u)}),!0);n(t({callback:u,error:i},e))}))];case 1:return[2,r.sent()]}}))}))}function a(t,e,r){void 0===r&&(r=!1),n({cmd:"listen",event:t,handler:o(e,r),once:r})}Object.freeze({__proto__:null,invoke:n,transformCallback:o,promisified:r}),Object.freeze({__proto__:null,listen:a,emit:function(t,e){n({cmd:"emit",event:t,payload:e})}});var u,i={};function c(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}a("stronghold:status-change",(function(t){for(var e=t.payload,n=e.snapshotPath,o=e.status,r=0,a=i[n]||[];r<a.length;r++){a[r].cb(o)}})),u||(u={});var h=function(){function t(t,e){this.type=t,this.payload=e}return t.generic=function(e,n){return new t("Generic",{vault:e,record:n})},t.counter=function(e,n){return new t("Counter",{vault:e,counter:n})},t}();function s(t){return n({cmd:"StrongholdSetPasswordClearInterval",interval:t})}var p=function(){function t(t,e,n){this.path=t,this.name=e,this.flags=n}return Object.defineProperty(t.prototype,"vault",{get:function(){return{name:this.name,flags:this.flags}},enumerable:!1,configurable:!0}),t.prototype.get=function(t){return r({cmd:"GetStrongholdStoreRecord",snapshotPath:this.path,vault:this.vault,location:t})},t.prototype.insert=function(t,e,n){return r({cmd:"SaveStrongholdStoreRecord",snapshotPath:this.path,vault:this.vault,location:t,record:e,lifetime:n})},t.prototype.remove=function(t){return r({cmd:"RemoveStrongholdStoreRecord",snapshotPath:this.path,vault:this.vault,location:t})},t}(),l=function(){function t(t,e,n){this.path=t,this.name=e,this.flags=n}return Object.defineProperty(t.prototype,"vault",{get:function(){return{name:this.name,flags:this.flags}},enumerable:!1,configurable:!0}),t.prototype.insert=function(t,e,n){return r({cmd:"SaveStrongholdRecord",snapshotPath:this.path,vault:this.vault,location:t,record:e,recordHint:n,flags:[]})},t.prototype.remove=function(t,e){return void 0===e&&(e=!0),r({cmd:"RemoveStrongholdRecord",snapshotPath:this.path,vault:this.vault,location:t,gc:e})},t.prototype.generateSLIP10Seed=function(t,e,n){return r({cmd:"ExecuteStrongholdProcedure",snapshotPath:this.path,vault:this.vault,procedure:{type:"SLIP10Generate",payload:{output:t,sizeBytes:e,hint:n}}})},t.prototype.deriveSLIP10=function(t,e,n,o,a){return r({cmd:"ExecuteStrongholdProcedure",snapshotPath:this.path,vault:this.vault,procedure:{type:"SLIP10Derive",payload:{chain:t,input:{type:e,payload:n},output:o,hint:a}}})},t.prototype.recoverBIP39=function(t,e,n,o){return r({cmd:"ExecuteStrongholdProcedure",snapshotPath:this.path,vault:this.vault,procedure:{type:"BIP39Recover",payload:{mnemonic:t,passphrase:n,output:e,hint:o}}})},t.prototype.generateBIP39=function(t,e,n){return r({cmd:"ExecuteStrongholdProcedure",snapshotPath:this.path,vault:this.vault,procedure:{type:"BIP39Generate",payload:{output:t,passphrase:e,hint:n}}})},t.prototype.getPublicKey=function(t){return r({cmd:"ExecuteStrongholdProcedure",snapshotPath:this.path,vault:this.vault,procedure:{type:"Ed25519PublicKey",payload:{privateKey:t}}})},t.prototype.sign=function(t,e){return r({cmd:"ExecuteStrongholdProcedure",snapshotPath:this.path,vault:this.vault,procedure:{type:"Ed25519Sign",payload:{privateKey:t,msg:e}}})},t}(),d=function(){function t(t,e){this.path=t,this.reload(e)}return t.prototype.reload=function(t){return r({cmd:"StrongholdInit",snapshotPath:this.path,password:t})},t.prototype.unload=function(){return r({cmd:"StrongholdDestroy",snapshotPath:this.path})},t.prototype.getVault=function(t,e){return new l(this.path,t,e)},t.prototype.getStore=function(t,e){return new p(this.path,t,e)},t.prototype.save=function(){return r({cmd:"StrongholdSnapshotSave",snapshotPath:this.path})},t.prototype.getStatus=function(){return r({cmd:"StrongholdGetStatus",snapshotPath:this.path})},t.prototype.onStatusChange=function(t){var e=this;void 0===i[this.path]&&(i[this.path]=[]);var n=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c();return i[this.path].push({id:n,cb:t}),function(){i[e.path]=i[e.path].filter((function(t){return t.id!==n}))}},t}();export{h as Location,p as Store,d as Stronghold,u as StrongholdFlag,l as Vault,s as setPasswordClearInterval};
